###	Import custom modules
import sys
sys.path.append('../')
from Toolbox import PlotBox
import datetime

dataset_rank  = [{'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 1, 3, 0, 1, 970000), 'sales_rank': 71597}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 3, 3, 0, 1, 717000), 'sales_rank': 52077}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 4, 3, 0, 1, 990000), 'sales_rank': 163008}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 5, 3, 0, 1, 510000), 'sales_rank': 59544}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 10, 3, 0, 2, 20000), 'sales_rank': 57936}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 14, 3, 0, 1, 803000), 'sales_rank': 56409}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 15, 3, 0, 1, 557000), 'sales_rank': 156999}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 16, 3, 0, 1, 590000), 'sales_rank': 70441}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 17, 3, 0, 1, 920000), 'sales_rank': 147829}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 18, 3, 0, 1, 720000), 'sales_rank': 187590}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 19, 3, 0, 1, 870000), 'sales_rank': 84778}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 20, 3, 0, 1, 940000), 'sales_rank': 176100}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 21, 3, 0, 1, 867000), 'sales_rank': 96661}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 24, 3, 0, 1, 697000), 'sales_rank': 70255}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 25, 3, 0, 1, 537000), 'sales_rank': 124196}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 27, 3, 0, 2, 107000), 'sales_rank': 68356}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 28, 3, 0, 1, 560000), 'sales_rank': 93318}, {'ProductID': 'BROT6120-19-MS', 'dateexpired': datetime.datetime(2019, 10, 31, 3, 0, 1, 697000), 'sales_rank': 96041}]
dataset_ppc   = [{'ProductADDate': '2019-10-01', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 52.09, 'Clicks': 112, 'Impressions': 43389}, {'ProductADDate': '2019-10-02', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 63.120000000000005, 'Clicks': 126, 'Impressions': 49553}, {'ProductADDate': '2019-10-03', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 51.04999999999999, 'Clicks': 114, 'Impressions': 49922}, {'ProductADDate': '2019-10-04', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 22.43999999999999, 'Clicks': 57, 'Impressions': 26098}, {'ProductADDate': '2019-10-05', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 16.07, 'Clicks': 45, 'Impressions': 31634}, {'ProductADDate': '2019-10-06', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 33.11999999999999, 'Clicks': 84, 'Impressions': 38483}, {'ProductADDate': '2019-10-07', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 20.519999999999996, 'Clicks': 54, 'Impressions': 34330}, {'ProductADDate': '2019-10-08', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 23.53, 'Clicks': 64, 'Impressions': 34554}, {'ProductADDate': '2019-10-09', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 16.64, 'Clicks': 47, 'Impressions': 36189}, {'ProductADDate': '2019-10-10', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 20.39, 'Clicks': 60, 'Impressions': 35856}, {'ProductADDate': '2019-10-11', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 18.840000000000003, 'Clicks': 54, 'Impressions': 33371}, {'ProductADDate': '2019-10-12', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 27.799999999999994, 'Clicks': 78, 'Impressions': 39224}, {'ProductADDate': '2019-10-13', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 23.720000000000002, 'Clicks': 65, 'Impressions': 47260}, {'ProductADDate': '2019-10-14', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 16.439999999999998, 'Clicks': 52, 'Impressions': 46903}, {'ProductADDate': '2019-10-15', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 21.830000000000002, 'Clicks': 61, 'Impressions': 43782}, {'ProductADDate': '2019-10-16', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 24.61, 'Clicks': 75, 'Impressions': 40726}, {'ProductADDate': '2019-10-17', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 21.18, 'Clicks': 57, 'Impressions': 42955}, {'ProductADDate': '2019-10-18', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 27.189999999999998, 'Clicks': 73, 'Impressions': 37342}, {'ProductADDate': '2019-10-19', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 35.82, 'Clicks': 98, 'Impressions': 43970}, {'ProductADDate': '2019-10-20', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 72.09, 'Clicks': 158, 'Impressions': 60733}, {'ProductADDate': '2019-10-21', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 68.77999999999997, 'Clicks': 145, 'Impressions': 66875}, {'ProductADDate': '2019-10-22', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 69.14, 'Clicks': 144, 'Impressions': 63613}, {'ProductADDate': '2019-10-23', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 60.42000000000001, 'Clicks': 127, 'Impressions': 70916}, {'ProductADDate': '2019-10-24', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 69.63, 'Clicks': 136, 'Impressions': 90455}, {'ProductADDate': '2019-10-25', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 36.16000000000001, 'Clicks': 62, 'Impressions': 44464}, {'ProductADDate': '2019-10-26', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 31.440000000000005, 'Clicks': 57, 'Impressions': 32980}, {'ProductADDate': '2019-10-27', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 25.67, 'Clicks': 51, 'Impressions': 37262}, {'ProductADDate': '2019-10-28', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 30.05, 'Clicks': 62, 'Impressions': 35778}, {'ProductADDate': '2019-10-29', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 33.82, 'Clicks': 69, 'Impressions': 18690}, {'ProductADDate': '2019-10-30', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 8.65, 'Clicks': 30, 'Impressions': 8641}, {'ProductADDate': '2019-10-31', 'AdvertisedSKU': 'BROT6120-19-MS', 'Spend': 2.09, 'Clicks': 10, 'Impressions': 4569}]
dataset_sales = [{'TimeOfOrder': '2019-10-01', 'ProductID': 'BROT6120-19-MS', 'sales': 134.75}, {'TimeOfOrder': '2019-10-02', 'ProductID': 'BROT6120-19-MS', 'sales': 107.8}, {'TimeOfOrder': '2019-10-03', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-05', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-06', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-07', 'ProductID': 'BROT6120-19-MS', 'sales': 80.85}, {'TimeOfOrder': '2019-10-08', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-10', 'ProductID': 'BROT6120-19-MS', 'sales': 80.85}, {'TimeOfOrder': '2019-10-11', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-14', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-15', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-16', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-17', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-18', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-19', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-20', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-21', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-22', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-23', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-24', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-25', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-26', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}, {'TimeOfOrder': '2019-10-27', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-28', 'ProductID': 'BROT6120-19-MS', 'sales': 26.95}, {'TimeOfOrder': '2019-10-30', 'ProductID': 'BROT6120-19-MS', 'sales': 53.9}]


plbx = PlotBox([dataset_rank, dataset_ppc, dataset_ppc, dataset_ppc, dataset_sales]
	, ['dateexpired', 'ProductADDate', 'ProductADDate', 'ProductADDate', 'TimeOfOrder']
	, ['sales_rank', 'Spend', 'Clicks', 'Impressions', 'sales'])


datasets_ = [dataset_rank, dataset_ppc, dataset_ppc, dataset_ppc, dataset_sales]
date_keys = ['dateexpired', 'ProductADDate', 'ProductADDate', 'ProductADDate', 'TimeOfOrder']
val_keys = ['sales_rank', 'Spend', 'Clicks', 'Impressions', 'sales']

datasets = []
for d, date, val in zip(datasets_, date_keys, val_keys):
	datasets.append(json_to_list(d, date, val))

legend_labels = ['Product Rank', 'PPC Adspend', 'Clicks', 'Impressions', 'Sales']
ranges = []
for d in datasets:
	ranges.append((0, max(d.values())))

line_charts(datasets, legend_labels)

for item in datasets:
	item = normalize_dataset(item)
line_charts(datasets, legend_labels, True)
ftp.quit()
